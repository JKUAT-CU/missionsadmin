<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spiritual Discipline Tracker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        body {
            background-color: #121212;
            color: #ffffff;
        }
        .form-container {
            max-width: 800px;
            margin: 30px auto;
            background: #1e1e1e;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .btn-primary {
            background-color: #4caf50;
            border: none;
        }
        .btn-primary:hover {
            background-color: #45a049;
        }
        .table-container {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container form-container">
        <h2 class="text-center">Spiritual Discipline Tracker (2024)</h2>
        <form id="disciplineForm">
            <div class="mb-3">
                <label for="prayer" class="form-label">Average days per week spent in personal prayer:</label>
                <input type="number" class="form-control" id="prayer" min="0" max="7" required>
            </div>
            <div class="mb-3">
                <label for="bibleStudy" class="form-label">Average days per week studying the Bible:</label>
                <input type="number" class="form-control" id="bibleStudy" min="0" max="7" required>
            </div>
            <div class="mb-3">
                <label for="evangelism" class="form-label">Total people evangelized to this year:</label>
                <input type="number" class="form-control" id="evangelism" min="0" required>
            </div>
            <div class="mb-3">
                <label for="fellowship" class="form-label">Number of fellowship services attended this year:</label>
                <input type="number" class="form-control" id="fellowship" min="0" required>
            </div>
            <div class="mb-3">
                <label for="fasting" class="form-label">Number of days fasted this year:</label>
                <input type="number" class="form-control" id="fasting" min="0" required>
            </div>
            <button type="button" class="btn btn-primary" onclick="generateReport()">Generate Report</button>
        </form>
    </div>

    <script>
        function calculateGrade(score) {
            if (score >= 90) return 'A';
            if (score >= 80) return 'B';
            if (score >= 70) return 'C';
            if (score >= 60) return 'D';
            return 'F';
        }

        function generateReport() {
            const prayer = parseInt(document.getElementById('prayer').value) || 0;
            const bibleStudy = parseInt(document.getElementById('bibleStudy').value) || 0;
            const evangelism = parseInt(document.getElementById('evangelism').value) || 0;
            const fellowship = parseInt(document.getElementById('fellowship').value) || 0;
            const fasting = parseInt(document.getElementById('fasting').value) || 0;

            // Calculate scores
            const prayerScore = (prayer / 7) * 100;
            const bibleStudyScore = (bibleStudy / 7) * 100;
            const evangelismScore = (evangelism >= 50 ? 100 : (evangelism / 50) * 100);
            const fellowshipScore = (fellowship >= 80 ? 100 : (fellowship / 80) * 100);
            const fastingScore = (fasting >= 30 ? 100 : (fasting / 30) * 100);

            const totalScore = (prayerScore + bibleStudyScore + evangelismScore + fellowshipScore + fastingScore) / 5;
            const grade = calculateGrade(totalScore);

            // Generate PDF report
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            doc.setFontSize(20);
            doc.text("Spiritual Discipline Report - 2024", 10, 20);

            doc.setFontSize(12);
            doc.text(`Prayer Score: ${prayerScore.toFixed(2)}%`, 10, 40);
            doc.text(`Bible Study Score: ${bibleStudyScore.toFixed(2)}%`, 10, 50);
            doc.text(`Evangelism Score: ${evangelismScore.toFixed(2)}%`, 10, 60);
            doc.text(`Fellowship Score: ${fellowshipScore.toFixed(2)}%`, 10, 70);
            doc.text(`Fasting Score: ${fastingScore.toFixed(2)}%`, 10, 80);

            doc.text("Overall Grade:", 150, 20, null, null, 'right');
            doc.setTextColor(255, 0, 0);
            doc.setFontSize(30);
            doc.text(grade, 200, 20, null, null, 'right');

            // Save PDF
            doc.save("Spiritual_Discipline_Report_2024.pdf");
        }
    </script>
</body>
</html>
